<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Your email please: <input type="email" id="input">
<input type="text" style="width:220px" placeholder="make email invalid and try to focus here">

    <!-- تجعل التوابعُ elem.focus()  وelem.blur()  العنصر يكتسب/يفقد التركيز. على سبيل المثال، يمكن أن نمنع الزائر من مغادرة حقل المُدخَل إذا كانت القيمة غير صحيحة: -->


    <style>
         .error {
    background: red;
  }
        .invalid { border-color: red; }
        #error { color: red }
      </style>
      
      Your email please: <input type="email" id="input">
      
      <div id="error"></div>
      <!-- يُستدعى الحدث focus عند التركيز على العنصر، ويُستدعى blur عندما يفقد العنصر التركيز. لنستخدم هذه الأحداث لغرض التحقّق من القيم المُدخَلة في حقول المدخلات. إليك المثال التالي:

يتحقّق معالج blur من أنّ الحقل قد أُدخل فيه بريد الكترونيّ، فإذا لم يكن قد أُدخل فيه بريد الكترونيّ، يظهر رسالة خطأ.
يُخفي معالج focus رسالة الخطأ (ليجري التحقّق عند blur مرّة أخرى). -->
      <script>
  

      input.onblur = function() {
        if (!input.value.includes('@')) { // ليس بريدا الكترونيّا
          input.classList.add('invalid');
          error.innerHTML = 'Please enter a correct email.'
        }
      };
      
      input.onfocus = function() {
        if (this.classList.contains('invalid')) {
          // أزل إشارة “الخطأ”، لأنّ المستخدم يريد إعادة إدخال شيء ما
          this.classList.remove('invalid');
          error.innerHTML = "";
        }
      };






  // input.onblur = function() {
  //   if (!this.value.includes('@')) { // ليس بريدا الكترونيّا
  //     // أظهر الخطأ
  //     this.classList.add("error");
  //     // وأرجع التركيز كما كان...
  //     input.focus();
  //   } else {
  //     this.classList.remove("error");
  //   }
  // };
      </script>
</body>
</html>